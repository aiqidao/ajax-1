function ajax(a){function b(){var a,b;if(h){if("string"==typeof h){h=h.split("&");for(var c=0,d=h.length;d>c;c++)a=h[c].split("=")[0],b=h[c].split("=")[1],h[c]=encodeURIComponent(a)+"="+encodeURIComponent(b);h=h.replace("/%20/g","+")}else if("object"==typeof h){var e=[];for(var a in h){var b=h[a].toString();a=encodeURIComponent(a),b=encodeURIComponent(b),e.push(a+"="+b)}h=e.join("&").replace("/%20/g","+")}("get"===g||"jsonp"===j)&&(f+=f.indexOf("?")>-1?f.indexOf("=")>-1?"&"+h:h:"?"+h)}}function c(){var a=document.createElement("script"),b=(new Date).getTime()+Math.round(1e3*Math.random()),c="JSONP_"+b;window[c]=function(b){clearTimeout(q),document.body.removeChild(a),o(b)},a.src=f+(f.indexOf("?")>-1?"&":"?")+"callback="+c,a.type="text/javascript",document.body.appendChild(a),d(c,a)}function d(a,b){void 0!==l&&(q=setTimeout(function(){"jsonp"===j?(delete window[a],document.body.removeChild(b)):(p=!0,r&&r.abort()),console.log("timeout")},l))}function e(){function a(){if(window.XMLHttpRequest)return new XMLHttpRequest;for(var a=["Microsoft","msxm3","msxml2","msxml1"],b=0;b<a.length;b++)try{var c=a[b]+".XMLHTTP";return new ActiveXObject(c)}catch(d){}}r=a(),r.open(g,f,k),"post"!==g||i?i&&r.setRequestHeader("Content-Type",i):r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8"),r.onreadystatechange=function(){if(4===r.readyState){if(void 0!==l){if(p)return;clearTimeout(q)}r.status>=200&&r.status<300||304==r.status?o(r.responseText):n(r.status,r.statusText)}},r.send("get"===g?null:h),d()}var f=a.url||"",g=(a.type||"get").toLowerCase(),h=a.data||null,i=a.contentType||"",j=a.dataType||"",k=void 0===a.async&&!0,l=a.timeOut,m=a.before||function(){},n=a.error||function(){},o=a.success||function(){},p=!1,q=null,r=null;b(),m(),"jsonp"===j?c():e()}